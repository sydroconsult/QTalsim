GroupBox;Text
subBasinGroupBox;Select the layer containing the sub-basins from the drop-down-menu that lists all polygon layers in your current QGIS project. After selecting the layer, the sub-basin layer’s field containing the unique identifier must be selected from the drop-down menu. Confirm your selection by clicking on the ‘Confirm Sub-basins’-Button. Upon clicking this button the Sub-basin layer is selected, and overlapping features and duplicates are removed. You can inspect the result in your QGIS project (layer ‘Sub-basins’).
eliminationGroupBox;"This part of the plugin was implemented to eliminate small polygons. Soil polygons and/or land use areas that fall below the specified size or percentage are eliminated. The percentage of all features with the same parameters is calculated by comparing the size of the polygons to its sub-basin’s area. These polygons are eliminated when confirming the soil/land use mapping, using the chosen elimination mode. 

Secondly, HRUs are eliminated according to the specified parameters (sub-basin, soil and land use) during the intersection process. HRUs that fall below the specified size or percentage share are deleted and filled using the ‘Eliminate’ tool. You can select the elimination mode from the drop-down menu (find further information here).

Tip: You can apply different minimum sizes for soil/land use features and HRUs by adjusting the values before the desired step. For example, you can change the values before mapping the land use features or before the intersection process."
soilGroupBox;"Choose the soil layer from the drop-down menu and confirm your selection by clicking ‘Confirm Soil’. Upon doing so, all valid geometries of this layer are selected and clipped to match the boundaries of the Sub-basin layer. During this step duplicate geometries are removed from the layer and the soil mapping table is populated with the fields of the soil layer.

This table contains Talsim soil parameters in the first column and all the field names of the soil layer in drop-down menus in the other six columns. These six columns represent the soil layers. In this step, users are required to map each Talsim parameter to its corresponding fields in the soil layer. The table below shows the necessary type for these parameters. Additionally, it also shows the required unit and restrictions of the parameters. If the user-mapped field has a different datatype, the plugin, where possible, converts the field’s values to the parameter’s type. If ‘Parameter not available’ is selected, that parameter will be added with null values.

To finalize the soil mapping, click ‘Confirm Soil Mapping’. If the user defines area/percentage thresholds, soil features below these thresholds are deleted during this step. The user can set a minimum size of the soil features [m²] and a minimum percentage of the soil features relative to the sub-basin’s area. Soil features that fall below the specified size or percentage share are deleted and filled using the ‘Eliminate’-tool. This creates a new layer, containing all fields from the soil layer and all parameters from the soil mapping table, assigned with values from their corresponding fields. If there is a datatype mismatch between the soil layer’s field and the parameter, a warning is logged.

Before finalizing the soil layer, users have the option to perform some editing steps. Please refer to section Optional Editing Steps below for a detailed explanation of ‘Check for Overlapping Features’, ‘Delete Overlapping Features’, ‘Check for Gaps’ and ‘Fill Gaps’.

In addition to the option of deleting all overlapping parts (using button ‘Delete All Overlapping Features’), you can also selectively remove specific overlapping soil features. This can be done via the table that populates when you click ‘Check for Overlapping Features’. This table displays all overlapping soil features across two columns. For each pair of overlapping features, you can decide, which feature’s geometry should stay unchanged, and which should have its overlapping part removed from its geometry. In the third column, you can select features to highlight them in the soil layer, allowing for easy viewing. After you have identified all the unwanted overlapping parts, simply press ‘Delete overlapping part of selected Features’ to remove the overlapping parts from the selected features.

The last step is to create the Talsim soil layer. This step dissolves the layer according to the Talsim parameters, removes the fields that are not required for Talsim and creates the soil layer used for the intersection."
landuseGroupBox;"First, select the land use layer from the drop-down menu and confirm your selection by clicking ‘Confirm Layer’. Upon doing so, all valid geometries of this layer are selected and clipped to align with the boundaries of the sub-basin layer. During this process, any duplicate geometries within the layer are also removed.

The land use mapping table is populated similarily to the soil mapping table. The first column contains Talsim land use parameters and the second column contains drop-down menus with all field names of the input land use layer. Here, you must match each Talsim parameter (in the first column) with the corresponding field in the input layer (in the second column). The table below shows the necessary types for these parameters. Additionally, it also shows the required unit and restrictions of the parameters. If the user-mapped field has a different datatype, the plugin, where possible, converts the field’s values to the parameter’s type. If ‘Parameter not available’ is selected, that parameter will be added with null values.

After completing the mapping, click ‘Confirm Landuse Mapping’ to create a new layer containing the input fields from your layer and the Talsim parameter values. If the user defines area/percentage thresholds, land use features below these thresholds are deleted during this step. The user can set a minimum size of the land use features [m²] and a minimum percentage of the land use features relative to the corresponding sub-basin’s area. Land use features that fall below the specified size or percentage share are deleted and filled using the ‘Eliminate’-tool.

After confirming the land use mapping you have the option to perform additional editing steps, such as deleting overlapping features and filling gaps. For more detailed information on these steps, please refer to section Optional Editing Steps.

In addition to the option of deleting all overlapping parts (using button ‘Delete All Overlapping Features’), you can also selectively remove specific overlapping landuse features. This can be done via the table that populates when you click ‘Check for Overlapping Features’. This table displays all overlapping landuse features across two columns. For each pair of overlapping features, you can decide, which feature’s geometry should stay unchanged, and which should have its overlapping part removed from its geometry. In the third column, you can select features to highlight them in the landuse layer, allowing for easy viewing. After you have identified all the unwanted overlapping parts, simply press ‘Delete overlapping part of selected Features’ to remove the overlapping parts from the selected features.

Clicking ‘Create Land Use Layer’ dissolves the layer according to the Talsim parameters, removes any fields that are not required for Talsim and generates the land use layer that will be used for intersection."
groupboxIntersect;"This step results in the creation of the files: BOD, BOA, LNZ and EFL, which can be used as input files for Talsim. To calculate the slope for each HRU, the user must input a Digital Elevation Model (DEM). This model is used to calculate the mean slope for each of the created HRUs. To generate the HRUs, the three layers (sub-basins, soil and land use) are intersected in a first step. The user can set a minimum size of the HRUs [m²] and a minimum percentage of HRUs relative to the sub-basin’s area (see above). The sum of the areas of all HRUs with the same parameters is compared with the area of the corresponding sub-basin. HRUs that fall below the specified size or percentage share are deleted and filled using the ‘Eliminate’-tool. You can select the elimination-mode from the drop-down menu (find further information here).

Gaps within the sub-basin layer are left unfilled, while all other gaps are appropriately filled. Any overlapping features within the resulted intersected layer are removed.

The resulting layers are then automatically added to the current QGIS project.
"
saveWidget;In this final step, you have the option to export layers as ASCII files. Exporting ASCII files allows for the layers to be saved in a format compatible with Talsim NG4. To begin, users must select the ‘Select Output Folder’ option and choose an appropriate folder. This folder will be designated for both the ASCII files and the geopackage export. Once the folder is chosen, users can proceed by clicking ‘Export ASCII Files’ and entering a preferred name for the ASCII files. These files will then be exported with the corresponding extensions (.EFL, .BOD, .BOA, .LNZ). By clicking ‘Ok’, the layers are stored in a geopackage under a name specified by the user.
